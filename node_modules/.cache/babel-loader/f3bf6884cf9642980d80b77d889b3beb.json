{"ast":null,"code":"var _jsxFileName = \"/Users/deol/My Code/ashmeetWedding/src/Components/aws_images/RenImages.js\";\nimport React, { Component } from 'react';\nimport { AWS } from 'aws-sdk'; // Load the AWS SDK for Node.js\n// Set the region \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nAWS.config.loadFromPath('./config.json'); // Create S3 service object\n\nlet s3 = new AWS.S3({\n  apiVersion: '2006-03-01'\n});\nlet bucketName = \"ashmeet-wedding\"; // Create the parameters for calling listObjects\n\nvar bucketParams = {\n  Bucket: 'ashmeet-wedding'\n};\nlet keys = [];\n\nfunction getUrls(bucketParams) {\n  let data = s3.listObjectsV2(bucketParams).promise();\n  console.log(data); // using for of await loop\n\n  keys = [];\n\n  for (let i = 0; i < data.Contents.length; i++) {\n    var key = data.Contents[i].Key;\n    let params = {\n      Bucket: bucketName,\n      Key: key\n    };\n    s3.getSignedUrl('getObject', params, function (err, url) {\n      console.log(url);\n      keys.push(url);\n    });\n  }\n\n  return keys;\n}\n\nclass RenImages extends Component {\n  constructor() {\n    super(...arguments);\n    this.urls = getUrls(bucketParams);\n  }\n\n  renderHtml(url) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"imgbox\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"flex space-x-10\",\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"urls.map(renderHtml);\"\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default RenImages;","map":{"version":3,"sources":["/Users/deol/My Code/ashmeetWedding/src/Components/aws_images/RenImages.js"],"names":["React","Component","AWS","config","loadFromPath","s3","S3","apiVersion","bucketName","bucketParams","Bucket","keys","getUrls","data","listObjectsV2","promise","console","log","i","Contents","length","key","Key","params","getSignedUrl","err","url","push","RenImages","urls","renderHtml","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,QAAoB,SAApB,C,CACA;AAEA;;;;AACAA,GAAG,CAACC,MAAJ,CAAWC,YAAX,CAAwB,eAAxB,E,CAEA;;AACA,IAAIC,EAAE,GAAG,IAAIH,GAAG,CAACI,EAAR,CAAW;AAACC,EAAAA,UAAU,EAAE;AAAb,CAAX,CAAT;AAEA,IAAIC,UAAU,GAAG,iBAAjB,C,CACA;;AACA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAG;AADQ,CAAnB;AAGA,IAAIC,IAAI,GAAG,EAAX;;AAEA,SAASC,OAAT,CAAiBH,YAAjB,EAA+B;AAE7B,MAAII,IAAI,GAAGR,EAAE,CAACS,aAAH,CAAiBL,YAAjB,EAA+BM,OAA/B,EAAX;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAH6B,CAK7B;;AACAF,EAAAA,IAAI,GAAE,EAAN;;AAEA,OAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,IAAI,CAACM,QAAL,CAAcC,MAAlC,EAA0CF,CAAC,EAA3C,EAA+C;AAC9C,QAAIG,GAAG,GAAIR,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBI,GAA5B;AACA,QAAIC,MAAM,GAAG;AAAEb,MAAAA,MAAM,EAAEF,UAAV;AAAsBc,MAAAA,GAAG,EAAED;AAA3B,KAAb;AACAhB,IAAAA,EAAE,CAACmB,YAAH,CAAgB,WAAhB,EAA6BD,MAA7B,EAAqC,UAAUE,GAAV,EAAeC,GAAf,EAAoB;AACxDV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACAf,MAAAA,IAAI,CAACgB,IAAL,CAAUD,GAAV;AACA,KAHD;AAIA;;AAGD,SAAOf,IAAP;AACA;;AAIF,MAAMiB,SAAN,SAAwB3B,SAAxB,CAAiC;AAAA;AAAA;AAAA,SAIhC4B,IAJgC,GAIzBjB,OAAO,CAACH,YAAD,CAJkB;AAAA;;AAKhCqB,EAAAA,UAAU,CAACJ,GAAD,EAAM;AACf,wBACC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,6BACC;AAAK,QAAA,GAAG,EAAIA;AAAZ;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAKA;;AAIDK,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,KAAK,EAAG,iBAAb;AAAA,6BACC;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAOA;;AAvB+B;;AA6BjC,eAAeH,SAAf","sourcesContent":["import React, { Component } from 'react'\nimport { AWS } from 'aws-sdk';\n// Load the AWS SDK for Node.js\n\n// Set the region \nAWS.config.loadFromPath('./config.json');\n\n// Create S3 service object\nlet s3 = new AWS.S3({apiVersion: '2006-03-01'});\n\nlet bucketName = \"ashmeet-wedding\";\n// Create the parameters for calling listObjects\nvar bucketParams = {\n  Bucket : 'ashmeet-wedding',\n};\nlet keys = [];\n\nfunction getUrls(bucketParams) {\n\t\n\t\tlet data = s3.listObjectsV2(bucketParams).promise();\n\t\tconsole.log(data);\n\n\t\t// using for of await loop\n\t\tkeys= [];\n\t\t\n\t\tfor (let i = 0; i < data.Contents.length; i++) {\n\t\t\tvar key = (data.Contents[i].Key);\n\t\t\tlet params = { Bucket: bucketName, Key: key };\n\t\t\ts3.getSignedUrl('getObject', params, function (err, url) {\n\t\t\t\tconsole.log(url);\n\t\t\t\tkeys.push(url);\n\t\t\t});\n\t\t}\n\t\t\t\n\t\t\n\t\treturn keys;\n\t}\n\n\n\nclass RenImages extends Component{\n\n\t\n\n\turls = getUrls(bucketParams);\n\trenderHtml(url) {\n\t\treturn (\n\t\t\t<div className=\"imgbox\">\n\t\t\t\t<img src = {url}/>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t\n\n\trender() {\n\t\treturn (\n\t\t\t<div class = \"flex space-x-10\">\n\t\t\t\t<>\n\t\t\t\turls.map(renderHtml);\n\t\t\t\t</>\n\t\t\t</div>\n\t\t)\n\t}\n\t\n\n\t\n}\n\nexport default RenImages"]},"metadata":{},"sourceType":"module"}