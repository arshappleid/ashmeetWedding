{"ast":null,"code":"var _jsxFileName = \"/Users/deol/My Code/ashmeetWedding/src/Components/aws_images/RenImages.js\";\nimport React, { Component } from 'react';\nimport { AWS } from 'aws-sdk'; // Load the AWS SDK for Node.js\n// Set the region \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAWS.config.loadFromPath('./config.json'); // Create S3 service object\n\nlet s3 = new AWS.S3({\n  apiVersion: '2006-03-01'\n});\nlet bucketName = \"ashmeet-wedding\"; // Create the parameters for calling listObjects\n\nvar bucketParams = {\n  Bucket: 'ashmeet-wedding'\n};\nlet keys = [];\n\nclass RenImages extends Component {\n  getUrls() {\n    let data = s3.listObjectsV2(bucketParams).promise();\n    console.log(\"Fethings urls.\"); // using for of await loop\n\n    keys = [];\n\n    for (let i = 0; i < data.Contents.length; i++) {\n      var imgkey = data.Contents[i].Key;\n      let params = {\n        Bucket: bucketName,\n        Key: imgkey\n      };\n      var url = s3.getSignedUrl('getObject', params);\n      console.log(url);\n      keys.push(url);\n      this.render(url);\n    }\n\n    return keys;\n  }\n\n  render() {\n    /*#__PURE__*/\n    _jsxDEV(\"p\", {\n      children: \"All the images.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }, this);\n\n    return urls.map(image_url => {\n      console.log(image_url);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: 350,\n            height: 300\n          },\n          src: image_url,\n          alt: \"Could not load\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this);\n    });\n  }\n\n}\n\nexport default RenImages;","map":{"version":3,"sources":["/Users/deol/My Code/ashmeetWedding/src/Components/aws_images/RenImages.js"],"names":["React","Component","AWS","config","loadFromPath","s3","S3","apiVersion","bucketName","bucketParams","Bucket","keys","RenImages","getUrls","data","listObjectsV2","promise","console","log","i","Contents","length","imgkey","Key","params","url","getSignedUrl","push","render","urls","map","image_url","width","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,QAAoB,SAApB,C,CACA;AAEA;;;AACAA,GAAG,CAACC,MAAJ,CAAWC,YAAX,CAAwB,eAAxB,E,CAEA;;AACA,IAAIC,EAAE,GAAG,IAAIH,GAAG,CAACI,EAAR,CAAW;AAACC,EAAAA,UAAU,EAAE;AAAb,CAAX,CAAT;AAEA,IAAIC,UAAU,GAAG,iBAAjB,C,CACA;;AACA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAG;AADQ,CAAnB;AAGA,IAAIC,IAAI,GAAG,EAAX;;AAGA,MAAMC,SAAN,SAAwBX,SAAxB,CAAiC;AAEhCY,EAAAA,OAAO,GAAE;AACR,QAAIC,IAAI,GAAGT,EAAE,CAACU,aAAH,CAAiBN,YAAjB,EAA+BO,OAA/B,EAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAFQ,CAIR;;AACAP,IAAAA,IAAI,GAAE,EAAN;;AAEA,SAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,IAAI,CAACM,QAAL,CAAcC,MAAlC,EAA0CF,CAAC,EAA3C,EAA+C;AAC9C,UAAIG,MAAM,GAAIR,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBI,GAA/B;AACA,UAAIC,MAAM,GAAG;AAAEd,QAAAA,MAAM,EAAEF,UAAV;AAAsBe,QAAAA,GAAG,EAAED;AAA3B,OAAb;AACA,UAAIG,GAAG,GAAGpB,EAAE,CAACqB,YAAH,CAAgB,WAAhB,EAA6BF,MAA7B,CAAV;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACAd,MAAAA,IAAI,CAACgB,IAAL,CAAUF,GAAV;AACA,WAAKG,MAAL,CAAYH,GAAZ;AACA;;AAGD,WAAOd,IAAP;AACA;;AAGDiB,EAAAA,MAAM,GAAG;AAGR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACD,WAAOC,IAAI,CAACC,GAAL,CAAUC,SAAD,IAAe;AAC1Bd,MAAAA,OAAO,CAACC,GAAR,CAAYa,SAAZ;AACA,0BACF;AAAA,gCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEM;AAAK,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE,GAAT;AAAcC,YAAAA,MAAM,EAAE;AAAtB,WAAZ;AAAyC,UAAA,GAAG,EAAIF,SAAhD;AAA2D,UAAA,GAAG,EAAI;AAAlE;AAAA;AAAA;AAAA;AAAA,gBAFN;AAAA;AAAA;AAAA;AAAA;AAAA,cADE;AAKD,KAPG,CAAP;AAQC;;AAnC+B;;AA2CjC,eAAenB,SAAf","sourcesContent":["import React, { Component } from 'react'\nimport { AWS } from 'aws-sdk';\n// Load the AWS SDK for Node.js\n\n// Set the region \nAWS.config.loadFromPath('./config.json');\n\n// Create S3 service object\nlet s3 = new AWS.S3({apiVersion: '2006-03-01'});\n\nlet bucketName = \"ashmeet-wedding\";\n// Create the parameters for calling listObjects\nvar bucketParams = {\n  Bucket : 'ashmeet-wedding',\n};\nlet keys = [];\n\n\nclass RenImages extends Component{\n\n\tgetUrls(){\n\t\tlet data = s3.listObjectsV2(bucketParams).promise();\n\t\tconsole.log(\"Fethings urls.\");\n\n\t\t// using for of await loop\n\t\tkeys= [];\n\t\t\n\t\tfor (let i = 0; i < data.Contents.length; i++) {\n\t\t\tvar imgkey = (data.Contents[i].Key);\n\t\t\tlet params = { Bucket: bucketName, Key: imgkey };\n\t\t\tvar url = s3.getSignedUrl('getObject', params);\n\t\t\tconsole.log(url);\n\t\t\tkeys.push(url);\n\t\t\tthis.render(url);\n\t\t}\n\t\t\t\n\t\t\n\t\treturn keys;\n\t}\n\n\t\n\trender() {\n\n\n\t\t<p>All the images.</p>\n\treturn urls.map((image_url) => {\n      console.log(image_url)\n      return (\n\t\t  <div>\n\t\t\t  <p>Image</p>\n          <img style={{ width: 350, height: 300 }} src = {image_url} alt = {\"Could not load\"} />\n        </div>);\n    });\n\t}\n\t\n\t\n\t\n\n\t\n}\n\nexport default RenImages"]},"metadata":{},"sourceType":"module"}